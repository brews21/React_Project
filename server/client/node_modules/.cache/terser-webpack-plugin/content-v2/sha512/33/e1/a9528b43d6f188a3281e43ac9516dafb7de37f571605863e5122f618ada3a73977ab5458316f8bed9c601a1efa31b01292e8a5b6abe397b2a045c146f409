{"map":"{\"version\":3,\"sources\":[\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\actions\\\\index.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\actions\\\\types.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\components\\\\Payments.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\components\\\\Header.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\components\\\\Landing.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\components\\\\App.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\reducers\\\\index.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\reducers\\\\authReducer.js\",\"D:\\\\MyFiles\\\\dev\\\\React_Project\\\\server\\\\client\\\\src\\\\index.js\"],\"names\":[\"fetchUser\",\"_ref\",\"Object\",\"asyncToGenerator\",\"regenerator_default\",\"a\",\"mark\",\"_callee\",\"dispatch\",\"res\",\"wrap\",\"_context\",\"prev\",\"next\",\"axios\",\"get\",\"sent\",\"type\",\"payload\",\"data\",\"stop\",\"this\",\"_x\",\"apply\",\"arguments\",\"handleToken\",\"token\",\"_ref2\",\"_callee2\",\"_context2\",\"post\",\"_x2\",\"Payments\",\"_this\",\"react_default\",\"createElement\",\"main_default\",\"name\",\"discription\",\"amount\",\"props\",\"stripeKey\",\"process\",\"className\",\"Component\",\"connect\",\"actions\",\"Header\",\"auth\",\"href\",\"key\",\"components_Payments\",\"credits\",\"style\",\"margin\",\"console\",\"log\",\"Link\",\"to\",\"id\",\"renderContent\",\"state\",\"Landing\",\"textAlign\",\"Dashboard\",\"SurveyNew\",\"App\",\"BrowserRouter\",\"components_Header\",\"Route\",\"exact\",\"path\",\"component\",\"combineReducers\",\"length\",\"undefined\",\"action\",\"store\",\"createStore\",\"reducers\",\"applyMiddleware\",\"reduxThunk\",\"ReactDOM\",\"render\",\"es\",\"components_App\",\"document\",\"querySelector\"],\"mappings\":\"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\",\"sourcesContent\":[\"import axios from \\\"axios\\\";\\r\\nimport { FETCH_USER } from \\\"./types\\\";\\r\\n\\r\\n// action creators\\r\\nexport const fetchUser = () => async dispatch => {\\r\\n  const res = await axios.get(\\\"/api/current_user\\\");\\r\\n\\r\\n  dispatch({ type: FETCH_USER, payload: res.data });\\r\\n};\\r\\n\\r\\nexport const handleToken = token => async dispatch => {\\r\\n  const res = await axios.post(\\\"/api/stripe\\\", token);\\r\\n\\r\\n  // call the authReducer claas whiuch make the header update the text\\r\\n  dispatch({ type: FETCH_USER, payload: res.data });\\r\\n};\\r\\n\",\"export const FETCH_USER = \\\"fetch_user\\\";\\r\\n\",\"import React, { Component } from \\\"react\\\";\\r\\nimport StripeCheckout from \\\"react-stripe-checkout\\\";\\r\\nimport { connect } from \\\"react-redux\\\";\\r\\nimport * as actions from \\\"../actions\\\";\\r\\n\\r\\n// stipecheckout defaults to US Dollars\\r\\n// and amount is in cents 100 US cents to 1 US dollar\\r\\n// look at changing it to Pounds or other currencies\\r\\n\\r\\nclass Payments extends Component {\\r\\n  render() {\\r\\n    return (\\r\\n      <StripeCheckout\\r\\n        name=\\\"Emaily\\\"\\r\\n        discription=\\\"$5 for 5 email credits\\\"\\r\\n        amount={500}\\r\\n        token={token => this.props.handleToken(token)}\\r\\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\\r\\n      >\\r\\n        <button className=\\\"btn\\\">Add credits</button>\\r\\n      </StripeCheckout>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\\r\\nexport default connect(\\r\\n  null,\\r\\n  actions\\r\\n)(Payments);\\r\\n\",\"import React, { Component } from \\\"react\\\";\\r\\nimport { connect } from \\\"react-redux\\\";\\r\\nimport { Link } from \\\"react-router-dom\\\";\\r\\nimport Payments from \\\"./Payments\\\";\\r\\n\\r\\nclass Header extends Component {\\r\\n  renderContent() {\\r\\n    switch (this.props.auth) {\\r\\n      case null:\\r\\n        return;\\r\\n        break;\\r\\n      case false:\\r\\n        return (\\r\\n          <li>\\r\\n            <a href=\\\"/auth/google\\\">Login With Google</a>\\r\\n          </li>\\r\\n        );\\r\\n        break;\\r\\n      default:\\r\\n        return [\\r\\n          <li key=\\\"1\\\">\\r\\n            <Payments />\\r\\n          </li>,\\r\\n          <li key=\\\"2\\\">Credits: {this.props.auth.credits}</li>,\\r\\n          <li key=\\\"3\\\" style={{ margin: \\\"0 10px\\\" }}>\\r\\n            <a href=\\\"/api/logout\\\">Logout</a>\\r\\n          </li>\\r\\n        ];\\r\\n    }\\r\\n  }\\r\\n\\r\\n  render() {\\r\\n    console.log(this.props);\\r\\n    return (\\r\\n      <nav>\\r\\n        <div className=\\\"nav-wrapper\\\">\\r\\n          <Link\\r\\n            to={this.props.auth ? \\\"/surveys\\\" : \\\"/\\\"}\\r\\n            className=\\\"left brand-logo\\\"\\r\\n          >\\r\\n            Emaily\\r\\n          </Link>\\r\\n          <ul id=\\\"nav-mobile\\\" className=\\\"right hide-on-med-and-down\\\">\\r\\n            {this.renderContent()}\\r\\n          </ul>\\r\\n        </div>\\r\\n      </nav>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\\r\\nfunction mapStateToProps(state) {\\r\\n  return {\\r\\n    auth: state.auth\\r\\n  };\\r\\n}\\r\\n\\r\\nexport default connect(mapStateToProps)(Header);\\r\\n\",\"import React from \\\"react\\\";\\r\\n\\r\\nconst Landing = () => {\\r\\n  return (\\r\\n    <div style={{ textAlign: \\\"center\\\" }}>\\r\\n      <h1>Emaily!!!!</h1>\\r\\n      Collect feedback from your users\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nexport default Landing;\\r\\n\",\"import React, { Component } from \\\"react\\\";\\r\\nimport { BrowserRouter, Route } from \\\"react-router-dom\\\";\\r\\nimport { connect } from \\\"react-redux\\\";\\r\\nimport * as actions from \\\"../actions\\\";\\r\\n\\r\\n//const Header = () => <h2> Header </h2>;\\r\\nimport Header from \\\"./Header\\\";\\r\\nimport Landing from \\\"./Landing\\\";\\r\\nconst Dashboard = () => <h2> Dashboard </h2>;\\r\\nconst SurveyNew = () => <h2> SurveyNew </h2>;\\r\\n\\r\\nclass App extends Component {\\r\\n  componentDidMount() {\\r\\n    this.props.fetchUser();\\r\\n  }\\r\\n\\r\\n  render() {\\r\\n    return (\\r\\n      <div className=\\\"container\\\">\\r\\n        <BrowserRouter>\\r\\n          <div>\\r\\n            <Header />\\r\\n            <Route exact path=\\\"/\\\" component={Landing} />\\r\\n            <Route exact path=\\\"/surveys\\\" component={Dashboard} />\\r\\n            <Route path=\\\"/surveys/new\\\" component={SurveyNew} />\\r\\n          </div>\\r\\n        </BrowserRouter>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\\r\\nexport default connect(\\r\\n  null,\\r\\n  actions\\r\\n)(App);\\r\\n\",\"import { combineReducers } from \\\"redux\\\";\\r\\n\\r\\nimport authReducer from \\\"./authReducer\\\";\\r\\n\\r\\nexport default combineReducers({\\r\\n  auth: authReducer\\r\\n});\\r\\n\",\"import { FETCH_USER } from \\\"../actions/types\\\";\\r\\n\\r\\nexport default function(state = null, action) {\\r\\n  console.log(action);\\r\\n  switch (action.type) {\\r\\n    case FETCH_USER:\\r\\n      return action.payload || false;\\r\\n      break;\\r\\n    // by default we donot know if the user is logged in or not\\r\\n    default:\\r\\n      return state;\\r\\n  }\\r\\n}\\r\\n\",\"import React from \\\"react\\\";\\r\\nimport ReactDOM from \\\"react-dom\\\";\\r\\nimport { Provider } from \\\"react-redux\\\";\\r\\nimport { createStore, applyMiddleware } from \\\"redux\\\";\\r\\n\\r\\nimport \\\"materialize-css/dist/css/materialize.min.css\\\";\\r\\n\\r\\nimport reduxThunk from \\\"redux-thunk\\\";\\r\\n\\r\\nimport App from \\\"./components/App\\\";\\r\\nimport reducers from \\\"./reducers\\\";\\r\\n\\r\\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\\r\\n\\r\\nReactDOM.render(\\r\\n  <Provider store={store}>\\r\\n    <App />\\r\\n  </Provider>,\\r\\n  document.querySelector(\\\"#root\\\")\\r\\n);\\r\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(66)},66:function(e,t,n){\"use strict\";n.r(t);var a={};n.r(a),n.d(a,\"fetchUser\",function(){return k}),n.d(a,\"handleToken\",function(){return w});var r=n(0),c=n.n(r),u=n(26),o=n.n(u),l=n(6),i=n(7),s=(n(42),n(30)),p=n(8),h=n(9),m=n(11),f=n(10),d=n(12),b=n(69),y=n(68),v=n(13),E=n.n(v),O=n(17),j=n(18),g=n.n(j),k=function(){return function(){var e=Object(O.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(\"/api/current_user\");case 2:n=e.sent,t({type:\"fetch_user\",payload:n.data});case 4:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(O.a)(E.a.mark(function t(n){var a;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(\"/api/stripe\",e);case 2:a=t.sent,n({type:\"fetch_user\",payload:a.data});case 4:case\"end\":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},x=n(67),C=n(31),N=n.n(C),_=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this;return c.a.createElement(N.a,{name:\"Emaily\",discription:\"$5 for 5 email credits\",amount:500,token:function(t){return e.props.handleToken(t)},stripeKey:\"pk_test_JFcUogOC8agg2jLOGxOMCDqb\"},c.a.createElement(\"button\",{className:\"btn\"},\"Add credits\"))}}]),t}(r.Component),D=Object(l.b)(null,a)(_),J=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:\"renderContent\",value:function(){switch(this.props.auth){case null:return;case!1:return c.a.createElement(\"li\",null,c.a.createElement(\"a\",{href:\"/auth/google\"},\"Login With Google\"));default:return[c.a.createElement(\"li\",{key:\"1\"},c.a.createElement(D,null)),c.a.createElement(\"li\",{key:\"2\"},\"Credits: \",this.props.auth.credits),c.a.createElement(\"li\",{key:\"3\",style:{margin:\"0 10px\"}},c.a.createElement(\"a\",{href:\"/api/logout\"},\"Logout\"))]}}},{key:\"render\",value:function(){return console.log(this.props),c.a.createElement(\"nav\",null,c.a.createElement(\"div\",{className:\"nav-wrapper\"},c.a.createElement(x.a,{to:this.props.auth?\"/surveys\":\"/\",className:\"left brand-logo\"},\"Emaily\"),c.a.createElement(\"ul\",{id:\"nav-mobile\",className:\"right hide-on-med-and-down\"},this.renderContent())))}}]),t}(r.Component);var L=Object(l.b)(function(e){return{auth:e.auth}})(J),U=function(){return c.a.createElement(\"div\",{style:{textAlign:\"center\"}},c.a.createElement(\"h1\",null,\"Emaily!!!!\"),\"Collect feedback from your users\")},q=function(){return c.a.createElement(\"h2\",null,\" Dashboard \")},A=function(){return c.a.createElement(\"h2\",null,\" SurveyNew \")},G=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:\"componentDidMount\",value:function(){this.props.fetchUser()}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"container\"},c.a.createElement(b.a,null,c.a.createElement(\"div\",null,c.a.createElement(L,null),c.a.createElement(y.a,{exact:!0,path:\"/\",component:U}),c.a.createElement(y.a,{exact:!0,path:\"/surveys\",component:q}),c.a.createElement(y.a,{path:\"/surveys/new\",component:A}))))}}]),t}(r.Component),M=Object(l.b)(null,a)(G),S=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case\"fetch_user\":return t.payload||!1;default:return e}}}),T=Object(i.d)(S,{},Object(i.a)(s.a));o.a.render(c.a.createElement(l.a,{store:T},c.a.createElement(M,null)),document.querySelector(\"#root\"))}},[[34,2,1]]]);","extractedComments":[]}